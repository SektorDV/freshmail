(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(t,e){},108:function(t,e){},143:function(t,e){},144:function(t,e){},186:function(t,e,n){"use strict";n.r(e);var r=n(10),i=n.n(r),s=n(85),o=n.n(s),c=(n(96),n(89)),a=(n(97),n(86)),u=n(14),h=n(87),l=n(28),f=n.n(l),b=n(88),p=n.n(b),d=n(31),v=n(15),m=n(30),y=n(29),g=n(90),k=function(t){function e(){return Object(u.a)(this,e),Object(d.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(m.a)(e,t),e}(function(t){function e(t,n){var r;return Object(u.a)(this,e),(r=Object(d.a)(this,Object(v.a)(e).call(this,t))).name=r.constructor.name,r.message=t,r.payload=n||null,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(Object(y.a)(r),r.constructor):r.stack=new Error(t).stack,r}return Object(m.a)(e,t),e}(Object(g.a)(Error))),j="https://api.freshmail.com/",O="rest/",w="application/json";var S=new(function(){function t(e,n){Object(u.a)(this,t),this.api={key:e,secret:n},this.http={host:j,prefix:O,contentType:w}}return Object(h.a)(t,[{key:"request",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",r=e?JSON.stringify(e):"",i="".concat(this.http.host).concat(this.http.prefix).concat(t),s="".concat(this.api.key,"/").concat(this.http.prefix).concat(t).concat(r).concat(this.api.secret);console.log(s);var o,c=p.a.createHash("sha1").update(s).digest("hex"),a={"Content-Type":this.http.contentType,"X-Rest-ApiKey":this.api.key,"X-Rest-ApiSign":c};if("POST"===n)o=f.a.post(i).set(a).send(e);else{if("GET"!==n)return Promise.reject(k("FreshMail API only supports GET or POST methods; Got ".concat(n)));o=f.a.get(i).set(a).query(e)}return o.then(function(t){if(200!==t.status||t.body.errors){var e=new k("FreshMail API returned errors. See payload for more details");return e.payload=t.body.errors,Promise.reject(e)}return Promise.resolve(t.body)})}},{key:"ping",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET";return this.request("ping","POST"===t?{ping:!0}:void 0,t)}},{key:"mail",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(a.a)({subscriber:t,subject:e},r?"html":"text",n);return this.request("mail",i)}},{key:"mailText",value:function(t,e,n){return this.mail(t,e,n,!1)}},{key:"mailHTML",value:function(t,e,n){return this.mail(t,e,n,!0)}},{key:"addSubscriber",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,s={email:t,list:e,state:n,confirm:r};if(i&&"object"===typeof i&&Object.keys(i).length)s.custom_fields=i;else if(i)return Promise.reject(new k("Invalid Argument: custom_fields must be an object. Got a ".concat(typeof i)));return this.request("subscriber/add",s)}},{key:"deleteSubscriber",value:function(t,e){return this.request("subscriber/delete",{email:t,list:e})}},{key:"getLists",value:function(){return this.request("subscribers_list/lists").then(function(t){return Promise.resolve(t.body.lists)})}},{key:"getSubscriber",value:function(t,e){var n="subscriber/get/".concat(e,"/").concat(t);return this.request(n,void 0,"GET")}},{key:"findSubscriber",value:function(t){var e=this;return this.getLists().then(function(n){return e.findSubscriberInLists(t,n)})}},{key:"findSubscriberInLists",value:function(t,e){var n,r=this;return Array.isArray(e)&&e.length?(n=e.map(function(e){return r.getSubscriber(t,e.subscriberListHash).then(function(t){return{subscriber:t,list:e}})}),new Promise(function(t,e){var r=[],i=[],s=0;n.forEach(function(o){o.then(function(o){s++,r.push(o),s===n.length&&(r.length?t(r):e(i))}).catch(function(o){s++,i.push(o),s===n.length&&(r.length?t(r):e(i))})})})).then(function(t){return Promise.resolve(t.map(function(t){return{list_hash:t.list.subscriberListHash,name:t.list.name,subscriber:t.subscriber}}))}).catch(function(){return Promise.resolve([])}):Promise.reject(new k("No lists found"))}},{key:"addCustomFieldtoList",value:function(t,e,n){var r={hash:t,name:e,type:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0};return n&&(r.tag=n),this.request("subscribers_list/addField",r)}},{key:"contentType",get:function(){return this.http.contentType},set:function(t){this.http.contentType=t}},{key:"host",get:function(){return this.http.host},set:function(t){this.http.host=t}},{key:"prefix",get:function(){return this.http.prefix},set:function(t){this.http.prefix=t}}]),t}())("47d9458081de7faa22e284276b1c17af","9607cdf2d6b2f86bce491261b69e64db0a7f5cc0"),T=function(t){S.ping()};var P=function(){var t=Object(r.useState)("initial"),e=Object(c.a)(t,2),n=e[0],s=e[1];return i.a.createElement("div",{className:"App"},i.a.createElement("textarea",{rows:"50",cols:"100",onChange:function(t){return s(t.target.value)},value:n}),i.a.createElement("button",{onClick:function(){return T(n)}},"Send"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},91:function(t,e,n){t.exports=n(186)},96:function(t,e,n){},97:function(t,e,n){}},[[91,1,2]]]);
//# sourceMappingURL=main.acc720cb.chunk.js.map